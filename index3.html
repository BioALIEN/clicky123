<html>
<head>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>

<script language="JavaScript">

function save_click(passed_object) { // this function records a click
  var now, then, path, encoded, to, from, name, img;

  now = new Date();
  path = 'clicky3.php';
  from = (window.decode) ? window.decodeURI(document.URL) : document.URL;
  to = (window.decodeURI) ? window.decodeURI(passed_object.href) : passed_object.href;
  name = (passed_object.name && passed_object.name != '') ? passed_object.name : '[No Name]';

  // timestamp the path!
  path += '?timestamp=' + now.getTime();

  path += '&to=' + escape(to) + '&from=' + escape(from) + '&name=' + passed_object.innerHTML; // compile the path with the recorded information

  // @todo find a method that will wait for the img then send them to the other link
  console.log(path);
  img = new Image();
  img.src = path; // when we call the image, we poll the php page; genius!

  setTimeout(window.location = passed_object.href, 2000);

  while (now.getTime() < then) {
    now = new Date(); // resets the timer for subsequent clicks
  }
}

</script>
</head>
<body>

<a id="11" href="http://www.facebook.com" class="red with-tracking" onclick="save_click(this); return false;">Test 3 link 1</a><br/>
<a id="12" href="#12" class="blue with-tracking" onclick="save_click(this); return false;">Test 3 link 2</a><br/>
<a id="13" href="#13" class="green with-tracking" onclick="save_click(this); return false;">Test 3 link 3</a><br/>
<a id="14" href="#14" class="orange with-tracking" onclick="save_click(this); return false;">Test 3 link 4</a><br/>
<a id="15" href="#15" class="yellow with-tracking" onclick="save_click(this); return false;">Test 3 link 5</a><br/>

<br/>
onclick or onmousedown
<br/>
Most clicked 24 hours
<br/>
Most clicked 7 days
<br/>

<pre>
References:
http://stackoverflow.com/questions/1889190/jquery-click-tracking-with-php
http://www.digitalbart.com/blog/jquery-and-urlencode/
http://sebastians-pamphlets.com/how-to-turn-click-tracking-into-miserable-failure/
http://www.smart-it-consulting.com/article.htm?node=155&page=96
https://mixpanel.com/blog/2012/10/08/link-tracking-in-mixpanel/
http://www.prodevtips.com/2008/08/19/tracking-clicks-with-jquery-and-google-analytics/
https://evan.nu/intelligent-jquery-click-through-tracking/
http://stackoverflow.com/questions/1629158/why-does-using-target-blank-cause-javascript-to-fail
</pre>
</body>
</html>
